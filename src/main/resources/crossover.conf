{
  "versions": [
    {
      "zookeeper": {
        "connect": "druid:2181"
      },
      "rabbit": {
        "connection": {
          "virtual-host": "/",
          "hosts": [
            "crossover.rabbitmq:5672"
          ],
          "username": "guest",
          "password": "guest",
          "connection-timeout": "3s",
          "ssl": false
        },
        "queue": {
          "name": "events",
          "prefetch": 50
        }
      },
      "cubes": [
        {
          "name": "payments__stage__v3",
          "rollup": {
            "dimensions": [
              "payment_id",
              "currency",
              "payer_type",
              "payer_id",
              "recipient_type",
              "recipient_id",
              "base_order_id",
              "executor_id",
              "responsible_id",
              "base_order_source_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "payed_amount",
                "name": "payed_amount"
              },
              {
                "type": "doubleSum",
                "fieldName": "planned_amount",
                "name": "planned_amount"
              },
              {
                "type": "longSum",
                "fieldName": "base_order_status",
                "name": "base_order_status"
              },
              {
                "type": "longSum",
                "fieldName": "base_order_decline_reason_id",
                "name": "base_order_decline_reason_id"
              },
              {
                "type": "longSum",
                "fieldName": "base_order_state_id",
                "name": "base_order_state_id"
              },
              {
                "type": "longSum",
                "fieldName": "state_id",
                "name": "state_id"
              },
              {
                "type": "longSum",
                "fieldName": "planned_date",
                "name": "planned_date"
              },
              {
                "type": "longSum",
                "fieldName": "payed_date",
                "name": "payed_date"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_lead_status_id",
                "name": "contractor_lead_status_id"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_type_id",
                "name": "contractor_type_id"
              }
            ]
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          },
          "sources": {
            "payments": {
              "payment_id": "payment_id",
              "planned_date": "planned_date",
              "payed_date": "payed_date",
              "currency": "currency",
              "payer_type": "payer_type",
              "payer_id": "payer_id",
              "recipient_type": "recipient_type",
              "recipient_id": "recipient_id",
              "planned_amount": "planned_amount",
              "payed_amount": "payed_amount",
              "base_order_id": "base_order_id",
              "base_order_status": "base_order_status",
              "executor_id": "executor_id",
              "responsible_id": "responsible_id",
              "base_order_decline_reason_id": "base_order_decline_reason_id",
              "base_order_state_id": "base_order_state_id",
              "state_id": "state_id",
              "base_order_source_id": "base_order_source_id",
              "contractor_lead_status_id": "contractor_lead_status_id",
              "contractor_type_id": "contractor_type_id",
            }
          }
        },
        {
          "name": "payments__preprod__v3",
          "rollup": {
            "dimensions": [
              "payment_id",
              "currency",
              "payer_type",
              "payer_id",
              "recipient_type",
              "recipient_id",
              "base_order_id",
              "executor_id",
              "responsible_id",
              "base_order_source_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "payed_amount",
                "name": "payed_amount"
              },
              {
                "type": "doubleSum",
                "fieldName": "planned_amount",
                "name": "planned_amount"
              },
              {
                "type": "longSum",
                "fieldName": "base_order_status",
                "name": "base_order_status"
              },
              {
                "type": "longSum",
                "fieldName": "base_order_decline_reason_id",
                "name": "base_order_decline_reason_id"
              },
              {
                "type": "longSum",
                "fieldName": "base_order_state_id",
                "name": "base_order_state_id"
              },
              {
                "type": "longSum",
                "fieldName": "state_id",
                "name": "state_id"
              },
              {
                "type": "longSum",
                "fieldName": "planned_date",
                "name": "planned_date"
              },
              {
                "type": "longSum",
                "fieldName": "payed_date",
                "name": "payed_date"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_lead_status_id",
                "name": "contractor_lead_status_id"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_type_id",
                "name": "contractor_type_id"
              }
            ]
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          },
          "sources": {
            "payments__preprod": {
              "payment_id": "payment_id",
              "planned_date": "planned_date",
              "payed_date": "payed_date",
              "currency": "currency",
              "payer_type": "payer_type",
              "payer_id": "payer_id",
              "recipient_type": "recipient_type",
              "recipient_id": "recipient_id",
              "planned_amount": "planned_amount",
              "payed_amount": "payed_amount",
              "base_order_id": "base_order_id",
              "base_order_status": "base_order_status",
              "executor_id": "executor_id",
              "responsible_id": "responsible_id",
              "base_order_decline_reason_id": "base_order_decline_reason_id",
              "base_order_state_id": "base_order_state_id",
              "state_id": "state_id",
              "base_order_source_id": "base_order_source_id",
              "contractor_lead_status_id": "contractor_lead_status_id",
              "contractor_type_id": "contractor_type_id",
            }
          }
        },
        {
          "name": "orders__preprod__v3",
          "rollup": {
            "dimensions": [
              "base_order_id",
              "responsible_id",
              "executor_id",
              "region_id",
              "source_id",
              "contractor_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "status_id",
                "name": "status_id"
              },
              {
                "type": "doubleSum",
                "fieldName": "state_id",
                "name": "state_id"
              },
              {
                "type": "doubleSum",
                "fieldName": "decline_reason_id",
                "name": "decline_reason_id"
              },
              {
                "type": "longSum",
                "fieldName": "created",
                "name": "created"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_lead_status_id",
                "name": "contractor_lead_status_id"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_type_id",
                "name": "contractor_type_id"
              }
            ]
          },
          "sources": {
            "orders__preprod": {
              "base_order_id": "base_order_id",
              "responsible_id": "responsible_id",
              "executor_id": "executor_id",
              "decline_reason_id": "decline_reason_id",
              "region_id": "region_id",
              "created": "created",
              "status_id": "status_id",
              "state_id": "state_id",
              "source_id": "source_id",
              "contractor_id": "contractor_id",
              "contractor_lead_status_id": "contractor_lead_status_id",
              "contractor_type_id": "contractor_type_id",
            }
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          }
        },
        {
          "name": "orders__stage__v3",
          "rollup": {
            "dimensions": [
              "base_order_id",
              "responsible_id",
              "executor_id",
              "region_id",
              "source_id",
              "contractor_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "status_id",
                "name": "status_id"
              },
              {
                "type": "doubleSum",
                "fieldName": "state_id",
                "name": "state_id"
              },
              {
                "type": "doubleSum",
                "fieldName": "decline_reason_id",
                "name": "decline_reason_id"
              },
              {
                "type": "longSum",
                "fieldName": "created",
                "name": "created"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_lead_status_id",
                "name": "contractor_lead_status_id"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_type_id",
                "name": "contractor_type_id"
              }
            ]
          },
          "sources": {
            "orders": {
              "base_order_id": "base_order_id",
              "responsible_id": "responsible_id",
              "executor_id": "executor_id",
              "decline_reason_id": "decline_reason_id",
              "region_id": "region_id",
              "created": "created",
              "status_id": "status_id",
              "state_id": "state_id",
              "source_id": "source_id",
              "contractor_id": "contractor_id",
              "contractor_lead_status_id": "contractor_lead_status_id",
              "contractor_type_id": "contractor_type_id",
            }
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          }
        },
        {
          "name": "tasks__v3",
          "rollup": {
            "dimensions": [
              "task_id",
              "executor_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "status_id",
                "name": "status_id"
              },
              {
                "type": "longSum",
                "fieldName": "deadline",
                "name": "deadline"
              },
              {
                "type": "longSum",
                "fieldName": "created",
                "name": "created"
              }
            ]
          },
          "sources": {
            "tasks": {
              "task_id": "task_id",
              "executor_id": "executor_id",
              "created": "created",
              "deadline": "deadline",
              "status_id": "status_id"
            }
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          }
        },
        {
          "name": "supplies__v4",
          "rollup": {
            "dimensions": [
              "supply_id",
              "currency",
              "unit",
              "executor_id",
              "contractor_id",
              "base_order_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "total",
                "name": "total"
              },
              {
                "type": "longSum",
                "fieldName": "created",
                "name": "created"
              },
              {
                "type": "longSum",
                "fieldName": "deliver",
                "name": "deliver"
              },
              {
                "type": "longSum",
                "fieldName": "contractor_type_id",
                "name": "contractor_type_id"
              }
            ]
          },
          "sources": {
            "supplies": {
              "supply_id": "supply_id",
              "currency": "currency",
              "unit": "unit",
              "total": "total",
              "executor_id": "executor_id",
              "contractor_id": "contractor_id",
              "contractor_type_id": "contractor_type_id",
              "created": "created",
              "deliver": "deliver",
              "base_order_id": "base_order_id"
            }
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          }
        },
        {
          "name": "orders_stats__v3",
          "rollup": {
            "dimensions": [
              "status_id",
              "executor_id",
              "contractor_type_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "count",
                "name": "count"
              },
              {
                "type": "longSum",
                "fieldName": "date",
                "name": "date"
              }
            ]
          },
          "sources": {
            "orders_stats": {
              "status_id": "status_id",
              "date": "date",
              "count": "count",
              "executor_id": "executor_id",
              "contractor_type_id": "contractor_type_id"
            }
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          }
        },
        {
          "name": "tasks_stats__v2",
          "rollup": {
            "dimensions": [
              "status_id",
              "executor_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "count",
                "name": "count"
              },
              {
                "type": "longSum",
                "fieldName": "date",
                "name": "date"
              }
            ]
          },
          "sources": {
            "tasks_stats": {
              "status_id": "status_id",
              "date": "date",
              "count": "count",
              "executor_id": "executor_id"
            }
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          }
        },
        {
          "name": "order_processing_durations__v7",
          "rollup": {
            "dimensions": [
              "base_order_id"
            ],
            "indexGranularity": "none",
            "aggregators": [
              {
                "type": "doubleSum",
                "fieldName": "status_id",
                "name": "status_id"
              },
              {
                "type": "doubleSum",
                "fieldName": "duration",
                "name": "duration"
              },
              {
                "type": "doubleSum",
                "fieldName": "processing_start_date",
                "name": "processing_start_date"
              },
              {
                "type": "doubleSum",
                "fieldName": "executor_id",
                "name": "executor_id"
              }
            ]
          },
          "sources": {
            "order_processing_durations": {
              "status_id": "status_id",
              "duration": "duration",
              "base_order_id": "base_order_id",
              "processing_start_date": "processing_start_date",
              "executor_id": "executor_id"
            }
          },
          "tuning": {
            "segmentGranularity": "none",
            "warmingPeriod": "",
            "windowPeriod": "",
            "partitions": 1,
            "replicants": 1
          }
        }
      ],
      "ver": 1
    }
  ]
}